<view class="content"><view class="top"><top-nav bind:getelectric="__e" vue-id="8dd740cc-1" data-event-opts="{{[['^getelectric',[['getelectric']]]]}}" bind:__l="__l"></top-nav><view class="toptabbar uni-flex uni-row"><block wx:for="{{btnList}}" wx:for-item="item" wx:for-index="__i0__" wx:key="text"><van-button vue-id="{{'8dd740cc-2-'+__i0__}}" plain type="{{item.type}}" icon="{{screensign==item.text?'star-o':''}}" data-event-opts="{{[['^click',[['chooseStatus',['$0'],[[['btnList','text',item.text,'text']]]]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><text>{{item.text}}</text><text>{{item.num}}</text></van-button></block></view></view><view class="content_main"><view class="searchView"><view class="inputBox"><uni-icons vue-id="8dd740cc-3" color="#999999" size="18" type="search" bind:__l="__l"></uni-icons><input placeholder="请输入设备编号进行查询" type="text" data-event-opts="{{[['input',[['__set_model',['','searchVal','$event',[]]],['clearInput',['$event']]]]]}}" value="{{searchVal}}" bindinput="__e"/><block wx:if="{{showClearIcon}}"><text data-event-opts="{{[['tap',[['clearIcon',['$event']]]]]}}" class="uni-icon" bindtap="__e"></text></block></view><van-button vue-id="8dd740cc-4" type="info" size="small" data-event-opts="{{[['^click',[['search']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">查询</van-button></view><view class="uni-list"><block wx:for="{{listData}}" wx:for-item="value" wx:for-index="key" wx:key="key"><view class="uni-list-cell" hover-class="uni-list-cell-hover"><view class="uni-media-list"><view class="uni-media-list-body"><view class="uni-media-list-item"><text>编号：</text>{{''+value.deviceSn}}</view><view class="uni-media-list-item"><text>状态：</text><block wx:if="{{value.state==-1}}"><text class="gary">离线</text></block><block wx:if="{{value.state==1}}"><text class="green">在线</text></block><block wx:if="{{value.state==2}}"><text class="green">良好</text></block><block wx:if="{{value.state==-2}}"><text class="red">超限</text></block><block wx:if="{{value.state==-3}}"><text class="yellow">隐患</text></block></view><view data-event-opts="{{[['tap',[['callPhone',['$0'],[[['listData','',key,'engineerPhone']]]]]]]}}" class="uni-media-list-item display" bindtap="__e"><text>施工：</text>{{''+value.engineerName+" "+value.engineerPhone+''}}<image class="callIcon" src="../../static/image/phone.png" mode></image></view><view class="numericalBox uni-media-list-item"><text>数值：</text><block wx:if="{{value.phaseType==1}}"><view class="numerical"><view><text>L：</text>{{''+value.l}}</view><view><text>N：</text>{{''+value.n}}</view><block wx:if="{{value.existAmpere}}"><view><text>剩余电流：</text>{{value.a}}</view></block></view></block><block wx:if="{{value.phaseType==2}}"><view class="numerical"><view><text>L1：</text>{{''+value.l1}}</view><view><text>L2：</text>{{''+value.l2}}</view><view><text>L3：</text>{{''+value.l3}}</view><view><text>N：</text>{{''+value.n}}</view><block wx:if="{{value.existAmpere}}"><view><text>剩余电流：</text>{{value.a}}</view></block></view></block></view><view class="btnBox"><van-button vue-id="{{'8dd740cc-5-'+key}}" type="info" plain size="small" data-event-opts="{{[['^click',[['getrefresh',['$0'],[[['listData','',key,'deviceId']]]]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">刷新数值</van-button><van-button vue-id="{{'8dd740cc-6-'+key}}" type="info" plain size="small" data-event-opts="{{[['^click',[['onClick',['$0'],[[['listData','',key,'deviceId']]]]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">参数设置</van-button><van-button vue-id="{{'8dd740cc-7-'+key}}" type="warning" plain size="small" data-event-opts="{{[['^click',[['Poweroff',['$0'],[[['listData','',key,'deviceId']]]]]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">断电</van-button></view></view></view></view></block></view><uni-load-more vue-id="8dd740cc-8" status="{{status}}" icon-size="{{16}}" content-text="{{contentText}}" bind:__l="__l"></uni-load-more></view></view>